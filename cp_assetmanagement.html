<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en"><head>
    <title>AssetManagement: manage your properties with RavenDB + WebAPI and KnockoutJS and more</title></head>
	<body>
	<p>Everyone ranting an appartment are any other property knows that it might be quite difficult to track the depenses and income in order to assure himself of the rentability of the given property. I have created an applications which helps with just that and thanks to this applications I was able to play with the following technologies:</p>
	<ul>
		<li>RavenDB - to stored the data. RavenDB is a document database, which seamlessly integrates into any C# project.</li>
		<li>WebAPI - to serve the data through REST services. WebAPI is a quite new technology from MS which is ment to provide better support for building REST services. Ofcourse we have build REST services with WCF before, so the questions is why should we change to WebAPI? WCF was created in the age of WSDL. It was adapted later to generate JSON, however inside it still uses XML as data transformation format. WebAPI is complete rewrite which also provides other interesting features.</li>
		<li>KnockoutJS - to glue the interaction on the client side. Knockout is one of the cool JavaScript MV* frameworks which provide a way to organise and facilitate the JavaScript developement. Unlike other frameworks (Backbone or Ember) KnockoutJS concentrate itself on binding of the data and actions between the GUI (HTML) and the ViewModel (JavaScript).</li>
		<li>Bootstrap - to give it a decent GUI. As its name says, bootstrap enables a quick developement of a web application's GUI. It is a greate tool to all of us who just want to get the project out and we still need a decent user interface.</li>
		<li>gRaphael - to visualize data using charts. RaphaelJS is a JavaScript framework enabling the manipulation of SVG and thus generation of vector graphics inside a web page. gRaphael is another library build on top of Raphael which provides functions to draw pie and bar charts.</li>
	</ul>
	
	<h2>The architecture of the application</h2>
	<p>The basic architecture can be shown 
	<p>This application is as lightweight as possible. It is composed of a MVC 4 application with two types of Controllers: Standard and API. Standard controllers are the ones which are used to render the base web pages. Event though that this applications uses client side MVVM, it has to be hosted. I have chosed to host the applications inside the classic ASP.MVC application. It is not a sin to mix server and client side MVC in one application.</p>
	
	<p>This application has no service layer. All the logic can be found inside the Controllers. The controllers all use directly the <b>IDocumentSession</b> of RavenDB to access the database. The good approach to user RavenDB when using ASP.MVC is described on the official web page. Basically the RavenDB session is openned when the controllers action is started and is closed when the action terminates. The structure of API controller however differs a little bit, but the principle is the same.</p>
	
	
	<h3>When to use Knockout</h3>
	<p>There are probably a lot of people around there with exactly the same question. It basically comes to the answer of whether to use or not any client side MVC JavaScript framework. From my purely personal point of view this makes sence when one or more of these conditions are filled:
	<ul><li>You have a good server side REST API (or you plan to build one) and wan't to use it to build a web page.</li>
	<li>You are building more an web-application then a website. That is to say, your users will stay at the page for some time, perform multiple actions and you need a responsive application for that.</li>
	<li>You need a really dynamic page. Even if you would use server side MVC than you would somehow need to include a lot of JavaScript for the dynamics of the page.</li></ul>
	
	
	</body>
</html>